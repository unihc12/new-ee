EeCommon.Search.setContextualSearchSiteCategory=function(){EeCommon.Search&&(-1!==window.location.hostname.toLowerCase().indexOf("shop.")||-1!==window.location.hostname.toLowerCase().indexOf("hybris")?EeCommon.Search.setHiddenFieldValue("site_category","Shop"):-1!==window.location.hostname.toLowerCase().indexOf("business.")?EeCommon.Search.setHiddenFieldValue("segment","small-business"):-1!==window.location.pathname.toLowerCase().indexOf("/help")&&EeCommon.Search.setHiddenFieldValue("site_category",
"Help"))};EE.getCookieDomain=function(){var a=window.location.hostname.match(/ee.co.uk$/);return a?a[0]:window.location.hostname};EE.segment={consumer:0,smallBusiness:2,largeBusiness:4};EE.getSegment=function(a){void 0===a&&(a=EE.getSegmentCookieValue());if(void 0!==a)switch(a){case "large-business":return EE.segment.largeBusiness;case "small-business":return EE.segment.smallBusiness}return EE.segment.consumer};EE.getSegmentCookieValue=function(){return $.cookie(EE.SEGMENT_COOKIE_NAME)||void 0};
(function(a,d){var b=d.headerType,c=void 0!==d.shop?d.shop.replace("https://",""):"",e=void 0!==d.previewDomain?d.previewDomain.replace("https://",""):"";"consumer"!==b&&(a("body").addClass("eed-header--business"),a("ul.eed-header-segments").find(".eed-header-segments__segment--consumer").removeClass("eed-header-segments__segment--active"),a("ul.eed-header-segments").find("#eed-business-segment").addClass("eed-header-segments__segment--active"));b=d.location.href;b=b.replace("http://","").replace("https://",
"").split(/[\/?#]/)[0];(b.match("shop")||b.match("business.")||b.match("author.")||b.match("-oe.intdigital.ee.co.uk")||b.match(".hybris.")||""!==c&&-1<b.indexOf(c)||""!==e&&-1<b.indexOf(e))&&a("#eed-promo-bar").removeClass("eed-promo-bar-hide");c=a(".eed-header").find(".login-logout-urls");if(0<c.length){e=document.domain;b=d.location.href;var g=c.find(".expected-shop-domain").html();var f=c.find(".expected-eeid-domain").html();var k=c.find(".expected-myee-domain").html();var h=c.find(".expected-upgradehub-domain").html();
var l=a(".eed-header").find(".expected-wlms-domain").html();var m=c.find(".expected-community-domain").html();d=a(".eed-masthead__maganav-auth-logoutcta");if(e===g){b=c.find(".shop-login-url").html();var n=c.find(".shop-logout-url").html();d.each(function(){a(this)[0].href=n})}else e===f?(b=c.find(".eeid-login-url").html(),n=c.find(".eeid-logout-url").html(),d.each(function(){a(this)[0].href=n})):e+"/app"===h&&-1<b.indexOf(e+"/app")?(b=c.find(".myee-new-login-url").html(),n=c.find(".myee-new-logout-url").html(),
d.each(function(){a(this)[0].href=n})):e===k?(b=c.find(".myee-old-login-url").html(),n=c.find(".myee-old-logout-url").html(),d.each(function(){a(this)[0].href=n})):e===l?(b=c.find(".wlms-login-url").html(),n=c.find(".wlms-logout-url").html(),d.each(function(){a(this)[0].href=n})):e===m?(b=c.find(".community-login-url").html(),n=c.find(".community-logout-url").html(),d.each(function(){a(this)[0].href=n})):(b=c.find(".default-login-url").html(),n=c.find(".default-logout-url").html());a(".eed-header").find(".eed-header-login-btn").attr("href",
b);a(".eed-header").find(".eed-header-logout-btn").attr("href",n);a(".eed-header").find(".eed-header-mobile-login-btn").attr("href",b);a(".eed-header").find(".eed-header-mobile-logout-btn").attr("href",n)}})(jQuery,window);EeCommon.Search.setContextualSearchSiteCategory();
(function(a){window.EE=window.EE||{};EE.Common=EE.Common||{};var d=function(b){if(!(this instanceof d))return new d(b);this.lv={userRoles:"",sectionRole:"",editMode:editMode,isRoleSpanTag:!0,isCookieSet:"",breakpoint:650,mobileView:!1,userName:""};this.ui={$mastheadWrapper:a(".new-masthead-group__wrapper"),$userRole:a("#userInfo"),$roleCon:a(".masthead-group__role-con"),$roleSection:a(".masthead-group__role-section"),$logoutCta:a(".eed-masthead__maganav-auth-logoutcta"),$loginCta:a(".eed-masthead__maganav-auth-logincta"),
$registerCta:a(".eed-masthead__maganav-auth-registercta"),$logoutSectionCta:a(".eed-off-nav-menu__logout"),$loginSectionCta:a(".eed-off-nav-menu__login"),$authName:a(".eed-masthead__maganav-auth-name"),$navMenuText:a(".eed-off-nav-menu__text"),$desktopLogoutCTA:a(".eed-off-nav__desktop-logout"),$sectionRoleClass:a(".mast-head__section--role"),$autoAlignment:a(".eed-nav-menu_disable-auto-alignment")};this.classes={navMenuText:"js-eed-off-nav-menu-text",autoAlignment:"eed-nav-menu_disable-auto-alignment"};
this.MYEE_AUTH_STATE_COOKIE="myee_logged_in";this.LOCAL_AUTH_STATE_COOKIE="localEELoggedInStatus";this.EE_LOGGED_IN_STATUS_COOKIE="eeLoggedInStatus";"1"===a.cookie(this.LOCAL_AUTH_STATE_COOKIE)||"1"===a.cookie(this.EE_LOGGED_IN_STATUS_COOKIE)?this.lv.isCookieSet=!0:"true"===a.cookie(this.MYEE_AUTH_STATE_COOKIE)?this.lv.isCookieSet=!0:this.lv.isCookieSet=!1;this.lv.breakpoint>=a(window).width()&&(this.lv.mobileView=!0);this.lv.editMode||this.init()};d.prototype={init:function(){var b=this;b.ui.$userRole.length&&
""!==a.trim(b.ui.$userRole.data("roles"))?(b.lv.isRoleSpanTag=!0,b.lv.userRoles=b.ui.$userRole.data("roles").toLowerCase(),b.lv.userName=b.ui.$userRole.data("name"),void 0!==b.lv.userName&&!1!==b.lv.userName&&(20<=b.lv.userName.length&&(b.lv.userName=b.lv.userName.substring(0,20)+"..."),b.ui.$authName.text(" as "+b.lv.userName)),b.ui.$mastheadWrapper.each(function(){b.lv.sectionRole=a(this).find(b.ui.$sectionRoleClass).data("roles");"default"!==b.lv.sectionRole&&0>b.lv.userRoles.indexOf(b.lv.sectionRole)?
(a(this).find(b.ui.$roleCon).show(),a(this).find(b.ui.$roleSection).hide()):(a(this).find(b.ui.$roleCon).hide(),a(this).find(b.ui.$roleSection).show())})):(b.lv.userName=b.ui.$userRole.data("name"),void 0!==b.lv.userName&&!1!==b.lv.userName&&(20<=b.lv.userName.length&&(b.lv.userName=b.lv.userName.substring(0,20)+"..."),b.ui.$authName.text(" as "+b.lv.userName)),b.lv.isRoleSpanTag=!1,b.ui.$mastheadWrapper.find(b.ui.$roleSection).show(),b.ui.$mastheadWrapper.find(b.ui.$roleCon).hide());b.authMenuConfig();
b.ui.$autoAlignment.removeClass(b.classes.autoAlignment).parent().addClass(b.classes.autoAlignment)},authMenuConfig:function(){this.lv.isCookieSet?(this.ui.$logoutCta.show(),this.ui.$loginCta.hide(),this.ui.$registerCta.hide(),this.ui.$desktopLogoutCTA.css("display","block"),this.ui.$logoutSectionCta.hide(),this.ui.$loginSectionCta.show(),this.ui.$logoutSectionCta.find(this.ui.$navMenuText).removeClass(this.classes.navMenuText)):(this.ui.$logoutCta.hide(),this.ui.$loginCta.show(),this.ui.$registerCta.show(),
this.ui.$logoutSectionCta.show(),this.ui.$loginSectionCta.hide(),this.ui.$loginSectionCta.find(this.ui.$navMenuText).removeClass(this.classes.navMenuText))}};EE.Common.RoleMenuConfig||(EE.Common.RoleMenuConfig=new d)})(jQuery);
(function(a,d){function b(){a(d).scroll(function(){g=a(this).scrollTop();5<=Math.abs(e-g)&&(g>e?(q&&200<g&&(k.classList.add("eed-header-smooth-upward-scroll"),q=!1),c("BTC // TRP // HELP-1708 // EE Sticky Navigation // Meganav Normal State")):d.pageYOffset>t?(q=!0,u.height(n),k.classList.add("eed-header-sticky"),k.classList.remove("eed-header-smooth-upward-scroll"),c("BTC // TRP // HELP-1708 // EE Sticky Navigation // Meganav Sticky State")):(q=!1,k.classList.remove("eed-header-sticky"),u.height(0),
k.classList.remove("eed-header-smooth-upward-scroll"),c("BTC // TRP // HELP-1708 // EE Sticky Navigation // Meganav Normal State")),e=g)})}function c(a){"undefined"!==typeof s&&a!==v&&(v=a,s.eVar215=a,s.linkTrackEvents="",s.linkTrackVars="eVar215",s.tl(!0,"o","Target Custom"))}var e=0,g,f=document.domain,k=document.getElementById("eed-header"),h=a("span#disable-sticky-nav").data("sticky-nav"),l=a(document).find(".search-panel-banner"),m=a(".stickynav-supported-domain").html(),n=a("#eed-header").height(),
u=a(document).find(".eed-header-temp"),q=!1,x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=k?k.offsetTop:"",v="";a(function(){void 0!==m&&(m=m.split(","));x||void 0===m||h||!(-1<m.indexOf(f))||0<l.length||b()})})(jQuery,window);
(function(a){function d(b){if(!(this instanceof d))return new d(b);this.lv={editMode:editMode,hashVal:"",cookieconsent:"#cookieconsent",learnmore:"#learnmore",odiInfra:".odinfra.com",intdigital:".intdigital.ee.co.uk",conversity:".conversity.com",proddomain:".ee.co.uk",stageLithium:".stage.lithium.com",oldCookieName:"ee.introBannerShown",oldCookieState:!1,domain:".ee.co.uk",cookieName:"ee-consent-cookie",duration:300,cookieVal:"all",CookieState:!1,optoutMultiCookieName:"OPTOUTMULTI",optoutMultiCookieState:!1,
optoutMultiCookieVal:null};this.ui={$body:a("body"),$cookieWrapper:a(".cookie-banner__wrapper"),$cookieBannerModel:a("#cookie-banner__modal"),$learnMoreLink:a(".cookie-banner__learn-more"),$cookieBannerLearn:a("#cookie-banner__Learn-more-modal")};this.classes={learnMore:".cookie-banner__learn-more",btnAccept:".cookie-banner__btn-accept",btnDone:".cookie-banner__btn-done"};this.lv.hostname=document.location.origin;-1!==this.lv.hostname.indexOf(this.lv.odiInfra)?this.lv.domain=this.lv.odiInfra:-1!==
this.lv.hostname.indexOf(this.lv.intdigital)?this.lv.domain=this.lv.intdigital:-1!==this.lv.hostname.indexOf(this.lv.conversity)?this.lv.domain=this.lv.conversity:-1!==this.lv.hostname.indexOf(this.lv.stageLithium)?this.lv.domain=this.lv.stageLithium:this.lv.domain=this.lv.proddomain;this.lv.oldCookieState=a.cookie(this.lv.oldCookieName);this.lv.CookieState=a.cookie(this.lv.cookieName)}window.EE=window.EE||{};d.prototype={onloadHashCheck:function(){this.lv.hashVal=window.location.hash;this.lv.hashVal===
this.lv.cookieconsent?this.lv.CookieState||this.loadCookiebanner():this.lv.hashVal===this.lv.learnmore&&this.loadLearnMorebanner()},loadCookiebanner:function(){if(!a(".cookie-privacy-page").length){var b=this;setTimeout(function(){b.ui.$cookieBannerModel.trigger("modal:open")},100)}},loadLearnMorebanner:function(){var b=this;setTimeout(function(){b.ui.$cookieBannerLearn.trigger("modal:open");b.lv.CookieState&&a(".sg-modal__sticky \x3e button").addClass("enable-button");a(".js-modal-wrapper .form__group input").each(function(){null!==
b.lv.CookieState&&(-1<b.lv.CookieState.indexOf(a(this).attr("value"))||"all"===a(this).attr("value"))?a(this).attr("checked","true"):"all"===b.lv.CookieState||"selected"===b.lv.cookieVal?a(this).attr("checked","true"):a(this).attr("unchecked","true")})},100)},clickevent:function(){var b=this;b.ui.$body.on("click","a",function(){a(this).attr("href")===b.lv.learnmore&&(b.lv.CookieState=a.cookie(b.lv.cookieName),b.loadLearnMorebanner());"cookie-banner__Learn-more-modal"!==a(this).attr("data-modal-content-id")||
b.lv.CookieState||setTimeout(function(){a(".sg-modal__sticky \x3e button").remove()},200)});b.ui.$body.on("click",b.classes.btnAccept,function(a){a.stopPropagation();b.lv.cookieVal="all";b.cookie=b.setCookie(b.lv.cookieName,b.lv.cookieVal,b.lv.domain,b.lv.duration);b.lv.optoutMultiCookieVal=b.getOptoutMultiCookieVal(b.lv.cookieVal);b.cookie=b.setCookie(b.lv.optoutMultiCookieName,b.lv.optoutMultiCookieVal,b.lv.domain,b.lv.duration)});b.ui.$body.on("click",b.classes.btnDone,function(){var c=[],e=[],
d=[],f=null;a(".js-modal-wrapper .form__group .form__check").each(function(){!0===a(this).find("input").prop("checked")?(c=c.length?c+" | "+a(this).find("input").attr("value"):a(this).find("input").attr("value"),f=a(this).find(".cookie__tealiumCategoryID").attr("data-value"),d=b.getTealiumCategoryIdVal(d,f,"0")):(e.push(a(this).find("input").attr("value")),f=a(this).find(".cookie__tealiumCategoryID").attr("data-value"),d=b.getTealiumCategoryIdVal(d,f,"1"))});b.lv.cookieVal=c;b.lv.unselectedcookieVal=
e;b.lv.allcookieVal=b.lv.cookieVal.length+b.lv.unselectedcookieVal.length;b.lv.cookieVal.length===b.lv.allcookieVal&&(b.lv.cookieVal="all");b.cookie=b.setCookie(b.lv.cookieName,b.lv.cookieVal,b.lv.domain,b.lv.duration);b.lv.optoutMultiCookieVal=d;b.cookie=b.setCookie(b.lv.optoutMultiCookieName,b.lv.optoutMultiCookieVal,b.lv.domain,b.lv.duration)})},setCookie:function(b,c,e,d){a.cookie.raw=!0;return a.cookie(b,c,{path:"/",domain:e,expires:d||350})},deleteCookie:function(a){document.cookie=a+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"},
getOptoutMultiCookieVal:function(b){var c=this,e=[],d=null;if("all"===b)return a("#cookie-banner__Learn-more-modal .form__group .form__check").each(function(){d=a(this).find(".cookie__tealiumCategoryID").attr("data-value");e=c.getTealiumCategoryIdVal(e,d,"0")}),e},getTealiumCategoryIdVal:function(a,c,e){return a=a.length?a+"|"+c+":"+e:c+":"+e}};EE.Common.CookieBanner||(EE.Common.CookieBanner=new d)})(jQuery);
(function(a,d){"function"===typeof define&&define.amd?define(d):"object"===typeof exports?module.exports=d:a.lunar=d()})(this,function(){var a={hasClass:function(a,b){return(new RegExp("(\\s|^)"+b+"(\\s|$)")).test(a.getAttribute("class"))},addClass:function(d,b){!a.hasClass(d,b)&&d.setAttribute("class",(d.getAttribute("class")?d.getAttribute("class")+" ":"")+b)},removeClass:function(d,b){var c=d.getAttribute("class").replace(new RegExp("(\\s|^)"+b+"(\\s|$)","g"),"$2");a.hasClass(d,b)&&d.setAttribute("class",
c)},toggleClass:function(d,b){a[a.hasClass(d,b)?"removeClass":"addClass"](d,b)}};return a});
(function(a,d,b){function c(c,b){this.element=c;this.settings=a.extend({},f,b);this._defaults=f;this._name="accessibleMegaMenu";this.focusTimeoutID=this.mouseTimeoutID=null;this.justFocused=this.mouseFocused=!1;this.init()}function e(c){return a.expr.pseudos.visible(c)&&!a(c).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}function g(c,b){var d=c.nodeName.toLowerCase();if("area"===d){b=c.parentNode;d=b.name;if(!c.href||!d||"map"!==b.nodeName.toLowerCase())return!1;
c=a("img[usemap\x3d#"+d+"]")[0];return!!c&&e(c)}return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"===d?c.href||b:b)&&e(c)}var f={uuidPrefix:"accessible-megamenu",menuClass:"accessible-megamenu",topNavItemClass:"accessible-megamenu-top-nav-item",panelClass:"js-eed-off-nav-level",panelGroupClass:"accessible-megamenu-panel-group",hoverClass:"hover",focusClass:"focus",openClass:"open",bodyOpen:"eed-header-curtain--drawn",hoverDelay:100},k={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",
55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",190:"."};c.prototype=function(){var e=0,g="",f="ontouchstart"in d||navigator.msMaxTouchPoints;var n=function(c){return a(c).closest(":data(plugin_accessibleMegaMenu)").data("plugin_accessibleMegaMenu")};var u=function(c){c=
a(c);var b=this.settings;c.attr("id")||c.attr("id",b.uuidPrefix+"-"+(new Date).getTime()+"-"+ ++e)};var q=function(c,e){var d=a(c.target),g=this,f=this.settings,w=this.menu,k=d.closest("."+f.topNavItemClass),h=d.hasClass(f.panelClass)?d:d.closest("."+f.panelClass);B.call(this,!0);if(e)if(k=w.find("."+f.topNavItemClass+" ."+f.openClass+":first").closest("."+f.topNavItemClass),k.is(c.relatedTarget)||0<k.has(c.relatedTarget).length)0===k.length&&w.find("[aria-expanded\x3dtrue]").attr("aria-expanded",
"false").removeClass(f.openClass).filter("."+f.panelClass).attr("aria-hidden","true");else{if("mouseout"!==c.type&&"focusout"!==c.type||!(0<k.has(b.activeElement).length)){k.find("[aria-expanded]").attr("aria-expanded","false").removeClass(f.openClass).removeClass("opened-submenu").filter("."+f.panelClass).attr("aria-hidden","true");if("keydown"===c.type&&27===c.keyCode||"DOMAttrModified"===c.type){var D=k.find(":tabbable:first");setTimeout(function(){w.find("[aria-expanded]."+g.settings.panelClass).off("DOMAttrModified.accessible-megamenu");
D.focus();g.justFocused=!1},99)}this.$curtain.removeClass(f.bodyOpen)}}else clearTimeout(g.focusTimeoutID),k.siblings().find("[aria-expanded]").attr("aria-expanded","false").removeClass(f.openClass).removeClass("opened-submenu").filter("."+f.panelClass).attr("aria-hidden","true"),k.find("[aria-expanded]").attr("aria-expanded","true").addClass(f.openClass).filter("."+f.panelClass).attr("aria-hidden","false"),"mouseover"===c.type&&d.is(":tabbable")&&1===k.length&&0===h.length&&0<w.has(b.activeElement).length&&
(d.focus(),g.justFocused=!1),a.publish("Eedheader.closeme",["nav"]),this.$curtain.addClass(f.bodyOpen),B.call(g)};var x=function(c){var b=a(c.currentTarget),e=b.closest("."+this.settings.topNavItemClass),g=b.closest("."+this.settings.panelClass);1===e.length&&0===g.length&&1===e.find("."+this.settings.panelClass).length&&(f&&(b.hasClass("opened-submenu")&&b.attr("href")&&(d.location=b.attr("href")),b.hasClass("eed--open")&&b.hasClass("eed--hover")&&b.addClass("opened-submenu")),!b.hasClass(this.settings.openClass)||
f?(c.preventDefault(),c.stopPropagation(),q.call(this,c),this.justFocused=!1):this.justFocused?(c.preventDefault(),c.stopPropagation(),this.justFocused=!1):f&&(c.preventDefault(),c.stopPropagation(),q.call(this,c,b.hasClass(this.settings.openClass))))};var t=function(c){0===a(c.target).closest(this.menu).length&&(c.preventDefault(),c.stopPropagation(),q.call(this,c,!0))};var v=function(c){"aria-expanded"===c.originalEvent.attrName&&"false"===c.originalEvent.newValue&&a(c.target).hasClass(this.settings.openClass)&&
(c.preventDefault(),c.stopPropagation(),q.call(this,c,!0))};var y=function(c){clearTimeout(this.focusTimeoutID);var b=a(c.target),e=b.closest("."+this.settings.panelClass);b.addClass(this.settings.focusClass).on("click.accessible-megamenu",a.proxy(x,this));this.justFocused=!this.mouseFocused;this.mouseFocused=!1;this.panels.not(e).filter("."+this.settings.openClass).length&&q.call(this,c)};var A=function(c){this.justFocused=!1;var b=this,e=a(c.target),g=e.closest("."+this.settings.topNavItemClass);
e.removeClass(this.settings.focusClass).off("click.accessible-megamenu");b.focusTimeoutID=d.cvox?setTimeout(function(){d.cvox.Api.getCurrentNode(function(a){g.has(a).length?clearTimeout(b.focusTimeoutID):b.focusTimeoutID=setTimeout(function(a,c,b){q.call(a,c,b)},275,b,c,!0)})},25):setTimeout(function(){q.call(b,c,!0)},300)};var C=function(b){var e=this.constructor===c?this:n(this),f=e.settings,h=a(this),l=null;l=this instanceof jQuery?a(h.is("."+f.hoverClass+":tabbable")?this:b.target):a(b.target);
h=e.menu;var w=e.topnavitems,m=l.closest("."+f.topNavItemClass),r=h.find(":tabbable"),t=l.hasClass(f.panelClass)?l:l.closest("."+f.panelClass),p=t.find("."+f.panelGroupClass),v=l.closest("."+f.panelGroupClass),u=b.keyCode||b.which;h=!1;var y=k[b.keyCode]||"";t=1===m.length&&0===t.length;if(!l.is("input:focus, select:focus, textarea:focus, button:focus")){l.is("."+f.hoverClass+":tabbable")&&a("html").off("keydown.accessible-megamenu");switch(u){case 27:q.call(e,b,!0);break;case 40:b.preventDefault();
t?(q.call(e,b),h=1===m.find("."+f.panelClass+" :tabbable:first").focus().length):h=1===r.filter(":gt("+r.index(l)+"):first").focus().length;!h&&d.opera&&"[object Opera]"===opera.toString()&&(b.ctrlKey||b.metaKey)&&(r=a(":tabbable"),p=r.index(l),h=1===a(":tabbable:gt("+a(":tabbable").index(l)+"):first").focus().length);break;case 38:b.preventDefault();if(t&&l.hasClass(f.openClass)){q.call(e,b,!0);var z=w.filter(":lt("+w.index(m)+"):last");z.children("."+f.panelClass).length&&(h=1===z.children().attr("aria-expanded",
"true").addClass(f.openClass).filter("."+f.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())}else t||(h=1===r.filter(":lt("+r.index(l)+"):last").focus().length);!h&&d.opera&&"[object Opera]"===opera.toString()&&(b.ctrlKey||b.metaKey)&&(r=a(":tabbable"),p=r.index(l),h=1===a(":tabbable:lt("+a(":tabbable").index(l)+"):first").focus().length);break;case 39:b.preventDefault();t?h=1===w.filter(":gt("+w.index(m)+"):first").find(":tabbable:first").focus().length:(p.length&&v.length&&
(h=1===p.filter(":gt("+p.index(v)+"):first").find(":tabbable:first").focus().length),h||(h=1===m.find(":tabbable:first").focus().length));break;case 37:b.preventDefault();t?h=1===w.filter(":lt("+w.index(m)+"):last").find(":tabbable:first").focus().length:(p.length&&v.length&&(h=1===p.filter(":lt("+p.index(v)+"):last").find(":tabbable:first").focus().length),h||(h=1===m.find(":tabbable:first").focus().length));break;case 9:navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)||(p=r.index(l),b.shiftKey&&
t&&l.hasClass(f.openClass)?(q.call(e,b,!0),z=w.filter(":lt("+w.index(m)+"):last"),z.children("."+f.panelClass).length&&(h=z.children().attr("aria-expanded","true").addClass(f.openClass).filter("."+f.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())):b.shiftKey&&0<p?h=1===r.filter(":lt("+p+"):last").focus().length:!b.shiftKey&&p<r.length-1?h=1===r.filter(":gt("+p+"):first").focus().length:d.opera&&"[object Opera]"===opera.toString()&&(r=a(":tabbable"),p=r.index(l),h=b.shiftKey?
1===a(":tabbable:lt("+a(":tabbable").index(l)+"):last").focus().length:1===a(":tabbable:gt("+a(":tabbable").index(l)+"):first").focus().length),h&&b.preventDefault());break;case 32:if(t)b.preventDefault(),x.call(e,b);else return!0;break;case 13:return!0;default:clearTimeout(this.keydownTimeoutID);g+=y!==g?y:"";if(0===g.length)return;this.keydownTimeoutID=setTimeout(function(){g=""},250);r=t&&!l.hasClass(f.openClass)?r.filter(":not(."+f.panelClass+" :tabbable)"):m.find(":tabbable");b.shiftKey&&(r=
a(r.get().reverse()));for(p=0;p<r.length;p++)if(b=r.eq(p),b.is(l)){z=1===g.length?p+1:p;break}f=new RegExp("^"+g.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26"),"i");for(p=z;p<r.length;p++)if(b=r.eq(p),l=a.trim(b.text()),f.test(l)){h=!0;b.focus();break}if(!h)for(p=0;p<z;p++)if(b=r.eq(p),l=a.trim(b.text()),f.test(l)){b.focus();break}}e.justFocused=!1}};var E=function(c){if(a(c.target).is(this.settings.panelClass)||a(c.target).closest(":focusable").length)this.mouseFocused=!0;this.mouseTimeoutID=setTimeout(function(){clearTimeout(this.focusTimeoutID)},
1)};var F=function(c){var b=a(c.target),e=this;"a"!==b[0].tagName.toLowerCase()&&(b=b.closest("a"));f?(a(c.target).addClass(this.settings.hoverClass),q.call(this,c)):(clearTimeout(this.mouseTimeoutID),e.mouseTimeoutID=setTimeout(function(){a(c.target).addClass(e.settings.hoverClass);q.call(e,c)},this.settings.hoverDelay));if(a(c.target).is(":tabbable"))a("html").on("keydown.accessible-megamenu",a.proxy(C,c.target))};var G=function(c){var b=a(c.target);"a"!==b[0].tagName.toLowerCase()&&(b=b.closest("a"));
var e=this;b.removeClass(e.settings.hoverClass);clearTimeout(this.mouseTimeoutID);e.mouseTimeoutID=setTimeout(function(){q.call(e,c,!0)},this.settings.hoverDelay);b.is(":tabbable")&&a("html").off("keydown.accessible-megamenu")};var B=function(c){var b=this.menu;c?(a("html").off("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, pointerup.outside-accessible-megamenu"),b.find("[aria-expanded]."+this.settings.panelClass).off("DOMAttrModified.accessible-megamenu")):(a("html").on("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, pointerup.outside-accessible-megamenu",
a.proxy(t,this)),b.find("[aria-expanded\x3dtrue]."+this.settings.panelClass).on("DOMAttrModified.accessible-megamenu",a.proxy(v,this)))};return{constructor:c,init:function(){var c=this.settings,b=a(this.element),e=b.find("ul").first(),d=e.children();this.start(c,b,e,d)},start:function(c,e,d,g){var h=this;this.settings=c;this.menu=d;this.topnavitems=g;this.$curtain=a(".js-eed-header-curtain");d.addClass(c.menuClass);g.each(function(b,e){e=a(e);e.addClass(c.topNavItemClass);b=e.find("\x3e a");e=e.children(":not(:tabbable):last");
u.call(h,b);e.length&&(u.call(h,e),b.attr({"aria-haspopup":!0,"aria-controls":e.attr("id"),"aria-expanded":!1}),e.attr({"aria-expanded":!1,"aria-hidden":!0}).addClass(c.panelClass).not("[aria-labelledby]").attr("aria-labelledby",b.attr("id")))});this.panels=d.find("."+c.panelClass);EED.utils.findFocusable(d).on("focusin.accessible-megamenu",a.proxy(y,this)).on("focusout.accessible-megamenu",a.proxy(A,this));d.on("keydown.accessible-megamenu",a.proxy(C,this)).on("mouseover.accessible-megamenu",a.proxy(F,
this)).on("mouseout.accessible-megamenu",a.proxy(G,this)).on("mousedown.accessible-megamenu",a.proxy(E,this));if(f)d.on("touchstart.accessible-megamenu",a.proxy(x,this));d.find("hr").attr("role","separator");a(b.activeElement).closest(d).length&&a(b.activeElement).trigger("focusin.accessible-megamenu")},getDefaults:function(){return this._defaults},getOption:function(a){return this.settings[a]},getAllOptions:function(){return this.settings},setOption:function(a,c,b){this.settings[a]=c;b&&this.init()}}}();
a.fn.accessibleMegaMenu=function(c){return this.each(function(){a.data(this,"plugin_accessibleMegaMenu")||a.data(this,"plugin_accessibleMegaMenu",new a.fn.accessibleMegaMenu.AccessibleMegaMenu(this,c))})};a.fn.accessibleMegaMenu.AccessibleMegaMenu=c;a.extend(a.expr.pseudos,{data:a.expr.createPseudo?a.expr.createPseudo(function(c){return function(b){return!!a.data(b,c)}}):function(c,b,e){return!!a.data(c,e[3])},focusable:function(c){return g(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var b=
a.attr(c,"tabindex"),e=isNaN(b);return(e||0<=b)&&g(c,!e)}})})(jQuery,window,document);
(function(a){var d=0,b=a(":tabbable");a.eedtabNext=function(){1>d&&document.getElementsByClassName("eed-header-segments__segment--consumer")[0].focus();a(":tabbable")[d].className.includes("eed-header-login-btn")?document.getElementsByClassName("eed-header-login-btn")[0].focus():1<d&&a(":tabbable")[d-1].className.includes("eed-header-login-btn")?document.getElementsByClassName("eed-loginregister")[1].focus():0<d&&b.eq(d).focus();d+=1};a.eedtabPrevious=function(){--d;a(":tabbable")[d].className.includes("eed-header-login-btn")?
document.getElementsByClassName("eed-header-login-btn")[0].focus():1<d&&a(":tabbable")[d-1].className.includes("eed-header-login-btn")?document.getElementsByClassName("eed-loginregister")[1].focus():-1<d&&b.eq(d).focus()};a(document).ready(function(){navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(a(".eed-header").keydown(function(c){a(c.target);c.shiftKey||9!==c.keyCode||(window.$.eedtabNext(),c.preventDefault());c.shiftKey&&9===c.keyCode&&(window.$.eedtabPrevious(),c.preventDefault())}),
a(".general-banner,.quick-links,.ee-footer-links").keydown(function(c){if(9===c.keyCode){var b=a(c.target);c.shiftKey?a(":tabbable:lt("+a(":tabbable").index(b)+"):last").focus():a(":tabbable:gt("+a(":tabbable").index(b)+"):first").focus();c.preventDefault()}}))})})(jQuery);
(function(a){window.EED=window.EED||{};if(!window.EED.initialized){var d=window.EED;(function(){for(var a=0,c=["ms","moz","webkit","o"],b=0;b<c.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[c[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[b]+"CancelAnimationFrame"]||window[c[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,b){var e=(new Date).getTime(),d=Math.max(0,16-(e-a));b=window.setTimeout(function(){c(e+
d)},d);a=e+d;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();window.FastClick&&FastClick.attach(document.body);if(!a.subscribe){var b=a({});a.subscribe=function(){b.on.apply(b,arguments)};a.unsubscribe=function(){b.off.apply(b,arguments)};a.publish=function(){b.trigger.apply(b,arguments)}}var c=a(window),e;c.on("resize",function(){e&&clearTimeout(e);e=setTimeout(function(){var b=c.width();a.publish("/eed-header/resize",[b])},100)});c.trigger("resize");
c.on("orientationchange",function(c){a.publish("/eed-header/orientationchange",c.orientation)});d.utils={};d.utils.findFocusable=function(c){return c.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!a(this).is(":visible")||0>a(this).attr("tabindex")?!1:!0})};d.utils.getYoDigits=function(a,c){a=a||6;a=Math.round(Math.pow(36,a+1)-Math.random()*
Math.pow(36,a)).toString(36).slice(1);return(c?""+c:"-")+a};d.utils.mobilecheck=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};d.utils.mobileTypeCheck=function(a){return-1!=navigator.userAgent.toLowerCase().indexOf(a)?!0:!1};d.utils.getVendorPropertyName=function(a){var c=document.createElement("fakeelement");if(a in c.style)return a;var b=["Moz","Webkit","O","ms"],e=a.charAt(0).toUpperCase()+a.substr(1);if(a in c.style)return a;for(a=0;a<b.length;++a){var d=b[a]+e;if(d in c.style)return d}};d.utils.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}[d.utils.getVendorPropertyName("transition")]||
null;d.utils.animEndEventName={MSAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"}[d.utils.getVendorPropertyName("animation")]||null;d.utils.isMobile=d.utils.mobilecheck();d.windowPath=window.location.pathname.replace(".html","").replace("/","");d.initialized=!0;window.EED=d}})(jQuery);
(function(a){window.EED=window.EED||{};if(!EED.EedHeader){var d=function(b,c){if(!(this instanceof d))return new d(b,c);this.classes={initialized:"eed-header--initialized",hidden:"eed-header--hidden",visible:"eed-header--visible",fixed:"eed-header--fixed",top:"eed-header--top",ready:"eed-header--ready",notTop:"eed-header--not-top",initial:"eed-header",bufferVisible:"eed-header-buffer--visible",bufferHidden:"eed-header-buffer--hidden"};this.el=b;this.$el=a(b);this.$el.hasClass(this.classes.initialized)||
(this.$el.addClass(this.classes.initialized),this.ui={$inner:this.$el.find(".js-eed-header-inner"),$parent:this.$el.parent("div")},this.$cookie=a(".js-eed-intro-banner"),this.$notification=a(".notification-bar-placeholder"),this.window=window,this.$window=a(this.window),this.options={tolerance:{down:0,up:0},onStick:function(){},onUnStick:function(){},onTop:function(){},notTop:function(){},breakpoint:650,offset:63,escapeKeyCode:27},this.options=_.extend({},this.options),_.extend(this.options,c),this.tolerance=
this._normalizeTolerance(this.options.tolerance),this.breakpoint=this.options.breakpoint,this.ticking=!1,this.previousY=this.latestScrollY=0,this.supportPageOffset=void 0!==window.pageXOffset,this.isCSS1Compat="CSS1Compat"===(document.compatMode||""),this.initialized=!1,this.state={mode:null,enabled:!1},this._init())};d.prototype._init=function(){var b=this;a.subscribe("/eed-header/resize",function(a,e){e<b.breakpoint&&(!b.initialized||"desktop"===b.state.mode)&&b.setupMobile();e>=b.breakpoint&&(!b.initialized||
"mobile"===b.state.mode)&&b.setUpDesktop()});this.$window.trigger("resize")};d.prototype.setupMobile=function(){this.state.mode="mobile";this.initialized=!0;this.$cookie.hasClass("eed-intro-banner--active")||this.$notification.find("notification-active")?(this.ui.$parent.css("padding-top",0),this.$el.css("position","relative")):(this.ui.$parent.css("padding-top",this.$el.height()),this.$el.addClass("eed-header--ready").attr("style",""),this.$window.on("scroll.eedHeader",_.bind(this._onScroll,this)),
this.$window.trigger("scroll.eedHeader"),this.state.enabled=!0)};d.prototype.setUpDesktop=function(){this.$window.off("scroll.eedHeader");this.$el.removeClass(this.classes.hidden+" "+this.classes.visible+" "+this.classes.top+" "+this.classes.notTop+" "+this.classes.ready);this.ui.$parent.css("padding-top",0);this.initialized=!0;this.state.mode="desktop";this.state.enabled=!0};d.prototype.disableMobile=function(){this.$window.off("scroll.eedHeader");this.initialized=!1;this.state.enabled=!1};d.prototype._toleranceExceeded=
function(a,c){return Math.abs(this.latestScrollY-this.previousY)>=this.tolerance[c]};d.prototype._normalizeTolerance=function(a){return a===Object(a)?a:{down:a,up:a}};d.prototype._stick=function(){if(this.$el.hasClass(this.classes.hidden)||!this.$el.hasClass(this.classes.visible))this.$el.removeClass(this.classes.hidden).addClass(this.classes.visible),this.options.onStick&&this.options.onStick.call(this)};d.prototype._unStick=function(){if(this.$el.hasClass(this.classes.visible)||!this.$el.hasClass(this.classes.hidden))this.$el.removeClass(this.classes.visible).addClass(this.classes.hidden),
this.options.onUnStick&&this.options.onUnStick.call(this)};d.prototype._shouldUnstick=function(a,c){var b=a>=this.options.offset;return a>this.previousY&&b&&c};d.prototype._shouldStick=function(a,c){var b=a<=this.options.offset;return a<this.previousY&&c||b};d.prototype._top=function(){this.$el.hasClass(this.classes.top)||(this.$el.addClass(this.classes.top).removeClass(this.classes.notTop),this.options.onTop&&this.options.onTop.call(this))};d.prototype._notTop=function(){this.$el.hasClass(this.classes.notTop)||
(this.$el.addClass(this.classes.notTop).removeClass(this.classes.top),this.options.onNotTop&&this.options.onNotTop.call(this))};d.prototype._update=function(){this.ticking=!1;var a=this._toleranceExceeded(this.latestScrollY,this.latestScrollY>this.previousY?"down":"up");this.latestScrollY<=this.options.offset?this._top():this._notTop();this._shouldUnstick(this.latestScrollY,a)?this._unStick():this._shouldStick(this.latestScrollY,a)&&this._stick();window.innerHeight+this.latestScrollY>=document.body.offsetHeight&&
this.$el.removeClass(this.classes.hidden);this.previousY=this.latestScrollY};d.prototype._requestTick=function(){this.ticking||requestAnimationFrame(_.bind(this._update,this));this.ticking=!0};d.prototype._getY=function(){return this.supportPageOffset?window.pageYOffset:this.isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop};d.prototype._onScroll=function(){this.previousY=this.latestScrollY;this.latestScrollY=this._getY();this._updateOffset();this._requestTick()};d.prototype._updateOffset=
function(){if(this.options.originalOffset==this.options.offset){var b=a("#eed-header").position().top;this.options.offset=parseInt(this.options.offset+b)}};EED.EedHeader||(EED.EedHeader=d)}})(jQuery);
(function(a){function d(){var a={desktopView:!1,tabletView:!1,mobileView:!1};1024<window.innerWidth?a.desktopView=!0:768<=window.innerWidth&&1024>=window.innerWidth?a.tabletView=!0:a.mobileView=!0;return a}window.EED=window.EED||{};var b=window.EED,c=function(b,d){if(!(this instanceof c))return new c(b,d);var e=function(){};this.options={enableEscapeKey:!0,escapeKeyCode:27,beforeNavOpen:e,afterNavOpen:e,beforeNavClose:e,afterNavClose:e,breakpoint:720,defaultCols:3};this.options=_.extend({},this.options);
_.extend(this.options,d);this.state={isOpen:!1,openDropdownId:null,openDropdown:null};this.categoryPatterns={"/help":"help","shop\\.":"shop","business\\.":"shop","/business/large/devices":"shop","why-ee":"why-ee",myaccount:"My EE"};this.$document=a(document);this.$window=a(window);this.$body=a("body");this.windowWidth=this.$window.width();this.el=b;this.$el=a(b);this.$el.hasClass("nav-initialized")||(this.$el.addClass("nav-initialized"),this.ui={$togglers:this.$el.find(".js-eed-nav-drop-trigger"),
$menu:this.$el.find(".js-eed-off-nav-menu")},this.ui.$togglersParents=this.ui.$togglers.parent("li"),this.classes={hover:"eed-nav--hover",fallbackCols:"eed-nav-level--fallback-cols"},this.dropdowns=[],this._init())};c.prototype.activateCurrentCategory=function(){var c=window.location.href;a.each(this.categoryPatterns,function(b,e){c.match(b)&&(b=a('li[data-category\x3d"'+e+'"]'),a(".eed-off-nav-menu__item--one").removeClass("eed-off-nav-menu__item--active"),b.addClass("eed-off-nav-menu__item--active"))})};
c.prototype._init=function(){this.$el.accessibleMegaMenu({uuidPrefix:"accessible-megamenu",menuClass:"js-eed-off-nav-menu",topNavItemClass:"eed-off-nav-menu__item--top",panelClass:"eed-nav-level--one",panelGroupClass:"eed-off-nav-menu__item--sub",hoverClass:"eed--hover",focusClass:"eed--hover",openClass:"eed--open"});this.activateCurrentCategory();if(!a("header").hasClass("edit-mode")&&a("#eed-header").length&&a("#eed-nav").length){this.checkTopMenuSpace();if(d().desktopView)a(window).resize(function(){c.prototype.setTopMenuResponse()});
else a(window).on("orientationchange",function(a){c.prototype.setTopMenuResponse()});c.prototype.setMegaNavFlexible()}};c.prototype.checkTopMenuSpace=function(){c.prototype.setTopMenuResponse();a(document).on("click",".eed-header-open-search",function(c){var b=d(),e=a("#eed-header-search"),k=a("#eed-header-basket"),h=a("#eed-nav"),l=a("#eed-header");a(c.currentTarget).addClass("opacity-25");b.desktopView?(e.addClass("eed-header-search-fullWidth").show().find(".eed-header-search__clear").addClass("eed-header--clear-icon"),
k.hasClass("eed-header-basket--active")&&k.hide(),h.hide()):b.tabletView&&(e.addClass("eed-header-search-fullWidth").show().find(".eed-header-search__clear").addClass("eed-header--clear-icon"),l.hasClass("eed-header-enable-top-menu")&&(h.hide(),k.hide()));setTimeout(function(){e.find("input").focus()},600)});a(".eed-header-search__clear").bind("click",function(c){c=d();var b=a("#eed-header-search"),e=a("#eed-header-basket"),k=a("#eed-nav"),h=a("#eed-header");a(".eed-header-open-search").removeClass("opacity-25");
setTimeout(function(){a("#eed-header-curtain").removeClass("eed-header-curtain--drawn")},400);if(c.desktopView)b.removeClass("eed-header-search-fullWidth").hide().find(".eed-header-search__clear").removeClass("eed-header--clear-icon"),e.removeAttr("style"),k.show();else if(c.tabletView&&(b.removeClass("eed-header-search-fullWidth").find(".eed-header-search__clear").removeClass("eed-header--clear-icon"),h.hasClass("eed-header-enable-top-menu")))return k.show(),e.removeAttr("style"),!1})};c.prototype.setTopMenuResponse=
function(){setTimeout(function(){var b=d(),g=a("#eed-header"),f=g.find(".eed-header__inner.container").outerWidth(),k=g.find("a.eed-header-logo").outerWidth(!0),h=g.find("#eed-nav").outerWidth(!0),l=g.find("#eed-header-search").outerWidth(!0),m=1,n=70,u=a("#eed-nav"),q=a("#eed-header-search"),x=a("#eed-header-basket"),t=a(".eed-header-open-search"),v=a("#eed-off-nav"),y=a(".eed-header-search-toggle"),A=!0;x.hasClass("eed-header-basket--active")&&(m=x.outerWidth(!0));n=n+k+h+m;b.desktopView&&(n+=l);
g.addClass("eed-header-enable-top-menu").find(".eed-header-logo").removeClass("eed-header-search--open-logo");a("#eed-off-canvas").focus();v.addClass("eed-header-enable-top-menu");q.removeClass("eed-header-search-fullWidth").find(".eed-header-search__clear").removeClass("eed-header--clear-icon");t.removeClass("opacity-25");x.removeAttr("style");a(".eed-header-open-search").hasClass("eed-header-search-hide")&&(A=!1);f&&k&&h&&!(!l&&1024>window.innerWidth&&A)&&m?f<n?b.desktopView?(g.addClass("eed-header-top-responsive"),
t.show(),q.hide(),y.hide(),u.show()):(g.removeClass("eed-header-enable-top-menu"),v.removeClass("eed-header-enable-top-menu"),y.show()):b.desktopView?(q.show(),t.hide(),u.show(),y.hide()):b.tabletView?(g.addClass("eed-header-enable-top-menu"),v.addClass("eed-header-enable-top-menu"),y.hide(),t.show(),u.show()):(g.removeClass("eed-header-enable-top-menu"),v.removeClass("eed-header-enable-top-menu"),y.show()):c.prototype.setTopMenuResponse()},300)};c.prototype.setMegaNavFlexible=function(){a(".eed-nav .js-eed-nav-drop-trigger").on("touchstart mouseover",
function(){var c=a(this),b=c.offset().left,d=c.parents(".eed-header__inner"),k=d.offset().left;d=k+d.outerWidth();b-=k;c=c.siblings();c.css("left",b);c.offset().left+c.outerWidth()>=d&&(c.css("left","auto"),c.css("right","0"))})};b.EedNav||(b.EedNav=c);EE.getPageSegment=function(){var c=a("#eed-header");return c.length&&c.data("page-segment")?EE.getSegment(c.data("page-segment")):!1}})(jQuery);
(function(a){window.EED=window.EED||{};var d=function(){},b=function(c,e){if(!(this instanceof b))return new b(c,e);this.options={enableEscapeKey:!0,escapeKeyCode:27,breakpoint:1026,beforeNavOpen:d,afterNavOpen:d,beforeNavClose:d,afterNavClose:d,openingInterval:25};this.options=_.extend({},this.options);_.extend(this.options,e);this.breakpoint=this.options.breakpoint;this.state={};this.state.isMoving=!1;this.state.isOpen=!1;this.state.$currentLevel=null;this.el=c;this.$el=a(c);this.$el.hasClass("offnav-initialized")||
(this.$el.addClass("offnav-initialized"),this.$document=a(document),this.$window=a(window),this.$body=a("body"),this.$html=a("html"),this.ui={$curtain:a(".js-eed-header-curtain"),$maganavAuthLogoutCta:a(".eed-masthead__maganav-auth-logoutcta")},this.classes={noScroll:"no-scroll",bodyOpen:"eed-header-curtain--drawn",open:"eed-off-canvas--open",opening:"eed-off-canvas--opening",doneOpening:"eed-off-nav--done-opening",closing:"eed-off-canvas--closing",doneClosing:"eed-off-canvas--done-closing",navOpen:"eed-off-nav--open",
navDoneOpening:"eed-off-nav--done-opening",navCurrent:"eed-off-nav--current",navReady:"eed-off-nav--ready",togglerReady:"eed-header-toggle--ready",xs:"eed-off-canvas--xs",sm:"eed-off-canvas--sm",md:"eed-off-canvas--md",levelHighest:"eed-nav-level--highest",levelCurrent:"eed-nav-level--current",levelOpening:"eed-nav-level--opening",levelClosing:"eed-nav-level--closing",levelCovered:"eed-nav-level--covered",levelOpen:"eed-nav-level--open",levelNotOpen:"eed-nav-level--not-open",slideOutOpening:"eed-slideout--opening",
slideOutOpen:"eed-slideout--open",slideOutClose:"eed-slideout--close",slideOutClosing:"eed-slideout--closing",drift:"eed-slideout--drift",nodrift:"eed-slideout--nodrift"},this._init())};b.prototype._init=function(){var c=this;this.ui.$bigNav=this.$el;this.ui.$smallNav=this.$el.clone(!1);this.ui.$header=a("#eed-header");this.ui.$copiedId=this.ui.$smallNav.find(".eed-masthead__maganav-auth").attr("id");this.ui.$smallNav.attr("id","eed-off-nav").attr("aria-hidden","true").attr("tabindex","-1").removeClass("eed-nav").addClass("eed-off-nav js-off-canvas-nav").addClass("eed-header-enable-top-menu").find(".eed-masthead__maganav-auth").attr("id",
this.ui.$copiedId+"-copied");this.$el=a("#eed-off-canvas");this.$el.prepend(this.ui.$smallNav);this.ui.$topLevel=this.ui.$smallNav.find("\x3e div");this.ui.$topLevel.addClass("eed-nav-level eed-nav-level--open");this.ui.$push=a(".js-off-canvas-push");this.ui.$toggler=a(".js-off-canvas-toggle");this.ui.$levels=this.ui.$smallNav.find(".js-eed-off-nav-level");this.ui.$firstLevel=this.ui.$levels.first();this.ui.triggers=[];this.ui.$slideOut=a(".eed-slideout");this._initLevels();a.subscribe("/eed-header/resize",
function(a,b){b<c.breakpoint&&!c.initialized&&c._attachEvents();b>=c.breakpoint&&c.initialized&&c._destroy()});this.$window.trigger("resize");this.ui.$smallNav.addClass(this.classes.navReady);this.ui.$toggler.addClass(this.classes.togglerReady);c.checkScrollFirstLevelMenu()};b.prototype._attachEvents=function(){var a=this;this.ui.$toggler.on("click.eed",_.bind(this.toggle,this));this.$document.on("keyup.eed",function(c){c.keyCode===a.options.escapeKeyCode&&a.options.enableEscapeKey&&a.state.isOpen&&
a.close()});a.initialized=!0};b.prototype._initLevels=function(){var c=this;this.ui.$levels.each(function(b,d){var e=a(d),g=e.parent("li"),h=0;e.find("ul.eed-off-nav-menu--first").find("li").each(function(){h+=1;var a=e.find("ul.eed-off-nav-menu--first \x3eli.eed-off-nav-menu__item--top:nth-child("+h+")").find("a").attr("id");if("undefined"!==typeof a){a="off-nav-"+a;var c=e.find("ul.js-eed-off-nav-menu li.eed-off-nav-menu__item--top:nth-child("+h+")"),b=c.attr("data-category");"undefined"===typeof b||
!1===b||"ee-and-me"!==b&&"My EE"!==b||c.find("a").first().attr("data-value","ee-and-me");c.find("a").first().attr("id",a);c.find("a").first().attr("aria-labelledby",a);c.find("a").first().attr("aria-controls",a)}});0>=g.length&&(g=e.parent("div").parent("li"));d=g.find("\x3e a");var l=d.attr("href"),m=d.find(".js-eed-off-nav-menu-text").text();var n=e.parents(".js-eed-off-nav-level").first();var u="ee-off-nav-"+b,q=n.attr("id"),x=e.parentsUntil(".eed-off-nav-menu__item--one").length;0>=d.length&&
(d=g.find("\x3e div").find("\x3e a"),l=d.attr("href"),m=d.find(".js-eed-off-nav-menu-text").text());m||(m="");e.attr("heading",m).attr("id",u);q=n.attr("id");g=d.attr("data-value");"undefined"!==typeof g&&!1!==g&&"ee-and-me"===g&&(c.ui.$maganavAuthLogoutCta.eq(0).clone().appendTo(e),c.ui.$maganavAuthLogoutCta.eq(0).clone().appendTo(".eed-masthead__maganav-auth--level3"));d.attr("href","#"+u).addClass("eed-off-nav__level-trigger eed-off-nav__level-trigger--not-selected").on("click.eed",_.bind(c._levelsTriggerClick,
c));n=x?"to "+n.attr("heading")+" menu":"to main menu";0!==b?(b=c._buildBackLink({targetId:q,heading:n}),l=c._buildHeading({targetId:u,heading:m,link:l}),e.addClass(c.classes.levelNotOpen).prepend(b+l),c.ui.triggers.push(d)):(c.state.$currentLevel=e,e.addClass(c.classes.levelOpen).attr("aria-hidden",!1).attr("aria-expanded",!0).attr("role","menu"))});this.ui.$levelsHolder=a("\x3cdiv /\x3e",{"class":"eed-off-nav-levels js-eed-off-nav-levels",id:"eed-off-nav-levels"}).append(this.ui.$levels).prependTo(this.ui.$smallNav);
this.$el.find(".js-eed-off-nav-back").on("click.eed",_.bind(c._backTriggerClick,c))};b.prototype._buildBackLink=function(a){return _.template('\x3ca href\x3d"#\x3c%\x3d data.targetId %\x3e" class\x3d"eed-off-nav-menu__back js-eed-off-nav-back"\x3e\n\x3cspan class\x3d"icon ee-icon-chevronback eed-off-nav-menu__icon eed-off-nav-menu__icon--right" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n\x3cspan\x3eBack \x3c%\x3d data.heading %\x3e\x3c/span\x3e\n\x3c/a\x3e',a,{variable:"data"})};b.prototype._buildHeading=
function(a){return _.template('\x3ch3 class\x3d"eed-off-nav-menu__item eed-off-nav-menu__sub-heading js-eed-off-nav-sub-heading eed-off-nav-link-padding-h3"\x3e\x3ca class\x3d"eed-off-nav-link__color-heading eed-off-nav-link-padding" href\x3d"\x3c%\x3d data.link %\x3e"\x3e\x3c%\x3d data.heading %\x3e\x3c/a\x3e\x3c/h3\x3e',a,{variable:"data"})};b.prototype._backTriggerClick=function(c){var b=this,d=a(c.target),f=this.state.$currentLevel,k,h=function(){var a=EED.utils.findFocusable(k);b.state.$currentLevel=
k;b.state.isMoving=!1;a.length&&a.eq(0).focus()};c.preventDefault();c.stopPropagation();b.state.isMoving||(b.state.isMoving=!0,"a"!==d[0].tagName.toLowerCase()&&(d=d.closest("a")),c=d.attr("href"),1<c.length&&"#"===c.slice(0,1)&&(k=this.ui.$levelsHolder.find(c)),f.one(EED.utils.transEndEventName,function(a){a.preventDefault();a.stopPropagation();h()}).removeClass(this.classes.levelOpen+" "+this.classes.levelCovered).addClass(this.classes.levelNotOpen).attr("aria-hidden",!0).attr("aria-expanded",!0),
Modernizr.csstransitions||h(),k.removeClass(this.classes.levelNotOpen+" "+this.classes.levelCovered))};b.prototype._levelsTriggerClick=function(c){var b=this,d=a(c.target),f,k=function(){b.state.isMoving=!1;b.state.$currentLevel=f;var a=EED.utils.findFocusable(f);a.length&&a.eq(0).focus()};c.preventDefault();c.stopPropagation();b.state.isMoving||(b.state.isMoving=!0,"a"!==d[0].tagName.toLowerCase()&&(d=d.closest("a")),c=d.attr("href"),1<c.length&&"#"===c.slice(0,1)&&(f=this.ui.$levelsHolder.find(c)),
this.state.$currentLevel.one(EED.utils.transEndEventName,function(a){a.preventDefault();a.stopPropagation();b.state.$currentLevel=f}).addClass(this.classes.levelCovered).attr("aria-hidden",!0).attr("aria-expanded",!1),f.one(EED.utils.transEndEventName,function(a){a.preventDefault();a.stopPropagation();k()}).removeClass(this.classes.levelNotOpen+" "+this.classes.levelCovered).addClass(this.classes.levelOpen).attr("aria-hidden",!1).attr("aria-expanded",!0),Modernizr.csstransitions||(b.state.$currentLevel=
f,k()))};b.prototype._closeLevels=function(){this.ui.$levels.first().removeClass(this.classes.levelCovered).addClass(this.classes.levelOpen).attr("aria-hidden",!1).attr("aria-expanded",!0);this.ui.$levels.not(":first").removeClass(this.classes.levelCovered+" "+this.classes.levelOpen).addClass(this.classes.levelNotOpen).attr("aria-hidden",!0).attr("aria-expanded",!1);this.state.$currentLevel=this.ui.$levels.first()};b.prototype.toggle=function(c){c.preventDefault();this.state.isMoving||(this.state.isOpen?
this.close():(a(".smartbanner").length&&!a(".smartbanner").hasClass("hide")&&(a(".smartbanner").addClass("hide burger-menu-open"),a("html").css("margin-top","0")),this.open()))};b.prototype.open=function(){var c=this,b=function(b,e){b&&(b.preventDefault(),b.stopPropagation());c.state.isMoving=!1;c.state.isOpen=!0;c.ui.$smallNav.addClass(c.classes.navDoneOpening).attr("aria-hidden",!1);c.ui.$slideOut.removeClass(c.classes.slideOutOpening);a(".smartbanner").length&&!a(".smartbanner").hasClass("hide")&&
(a(".smartbanner").addClass("hide burger-menu-open"),a("html").css("margin-top","0"));_.isFunction(c.options.afterNavOpen)&&c.options.afterNavOpen();c.ui.$firstLevel.find(".eed-off-nav-menu__item \x3e a").first().focus();c.ui.$toggler.addClass("is-active");EED.utils.mobileTypeCheck("iphone")&&a("#eed-header").hasClass("eed-slideout--open")&&(a("#eed-header").removeClass(c.classes.nodrift),a("#eed-header").removeClass(c.classes.drift),a("#eed-header").addClass(c.classes.drift));c.ui.$slideOut.off("click.EedOffNav touchstart.EedOffNav").one("click.EedOffNav touchstart.EedOffNav",
function(a){a.stopPropagation();c.state.isOpen&&c.close()});c.ui.$curtain.addClass(c.classes.bodyOpen)};this.state.isMoving||this.state.isOpen||(this.state.isMoving=!0,this.ui.$smallNav.addClass(this.classes.navCurrent),_.isFunction(this.options.beforeNavOpen)&&c.options.beforeNavOpen(),this.$html.addClass(this.classes.noScroll),this.ui.$smallNav.off(EED.utils.transEndEventName).one(EED.utils.transEndEventName,b),Modernizr.csstransitions||_.delay(function(){b()},100),a.publish("EedOffNav.open"),setTimeout(function(){c.ui.$slideOut.addClass(c.classes.slideOutOpen+
" "+c.classes.slideOutOpening);c.ui.$smallNav.addClass(c.classes.navOpen)},c.options.openingInterval))};b.prototype.close=function(c){var b=this,d=function(c,d){c&&(c.preventDefault(),c.stopPropagation());b.state.isMoving=!1;b.state.isOpen=!1;_.isFunction(b.options.afterNavClose)&&b.options.afterNavClose();b.ui.$slideOut.removeClass(b.classes.slideOutClosing);b.$html.removeClass(b.classes.noScroll);a(".smartbanner").length&&a(".smartbanner").hasClass("burger-menu-open")&&(a(".smartbanner").removeClass("hide"),
a("html").css("margin-top","84px"));a.publish("EedOffNav.close");_.delay(function(){b.ui.$toggler.removeClass("is-active");EED.utils.mobileTypeCheck("iphone")&&!a("#eed-header").hasClass("eed-slideout--open")&&(a("#eed-header").removeClass(b.classes.nodrift),a("#eed-header").removeClass(b.classes.drift),a("#eed-header").addClass(b.classes.nodrift));b.ui.$smallNav.removeClass(b.classes.navCurrent).attr("aria-hidden",!0)},b.options.openingInterval);b._closeLevels.call(b);b.ui.$push.off("click.EedOffNav")};
!this.state.isMoving&&this.state.isOpen&&(this.state.isMoving=!0,b.ui.$curtain.removeClass(b.classes.bodyOpen),_.isFunction(this.options.beforeNavClose)&&this.options.beforeNavClose(),this.ui.$smallNav.off(EED.utils.transEndEventName).one(EED.utils.transEndEventName,d).removeClass(this.classes.navDoneOpening+" "+this.classes.navOpen),this.ui.$slideOut.addClass(this.classes.slideOutClosing).removeClass(this.classes.slideOutOpen),Modernizr.csstransitions&&!c||_.delay(function(){d()},100),c=window.location.href,
-1!=c.indexOf("#")&&window.open(c,"_self"))};b.prototype._destroy=function(){this.ui.$toggler.off("click.eed");this.$document.off("keyup.eed");this.state.isOpen&&this.close(!0);this.initialized=!1};b.prototype.checkScrollFirstLevelMenu=function(){a(document).on("click","#eed-off-canvas-toggle",function(){window.innerHeight>window.innerWidth&&b.prototype.setScrollFirstLevelMenu()})};b.prototype.setScrollFirstLevelMenu=function(){setTimeout(function(){var c=a("#eed-off-nav").outerHeight(!0),d=a(".eed-off-nav__secondary").outerHeight(!0),
g=c-d-72,f=a("#eed-off-nav").find(".eed-nav-level.eed-nav-level--first"),k=f.find(".eed-off-nav-menu--first"),h=49*k.children("li").length,l=k.find(".eed-off-nav-menu__item--logo"),m=l.html();c&&d&&g&&h?g<h&&(window.innerHeight>window.innerWidth?(f.addClass("eed-nav-enable-scroll"),k.css("height",g),a(".eed-off-nav__scroll--logo").length?a(".eed-off-nav__scroll--logo").show():f.prepend("\x3cdiv class\x3d'eed-off-nav__scroll--logo'\x3e"+m+"\x3cdiv\x3e"),l.hide()):(f.removeClass("eed-nav-enable-scroll"),
k.css("height","auto"),a(".eed-off-nav__scroll--logo").hide(),l.show())):b.prototype.setScrollFirstLevelMenu()},200)};EED.EedOffNav||(EED.EedOffNav=b,a(window).resize(function(){if(window.innerHeight>window.innerWidth&&a("#eed-off-nav").hasClass("eed-off-nav--open"))b.prototype.setScrollFirstLevelMenu();else if(a(".eed-nav-enable-scroll").length){var c=a("#eed-off-nav").find(".eed-nav-level.eed-nav-level--first"),d=c.find(".eed-off-nav-menu--first");c.removeClass("eed-nav-enable-scroll");d.css("height",
"auto");a(".eed-off-nav__scroll--logo").hide();d.find(".eed-off-nav-menu__item--logo").show()}}))})(jQuery);
(function(a){window.EED=window.EED||{};var d=function(){},b=function(c,e,g){if(!(this instanceof b))return new b(c,g);this.options={enableEscapeKey:!0,escapeKeyCode:27,beforeOpen:d,afterOpen:d,beforeClose:d,afterClose:d,breakpoint:650};this.options=_.extend({},this.options);_.extend(this.options,g);this.breakpoint=this.options.breakpoint;this.state={};this.state.isOpen=!1;this.state.isMoving=!1;this.$document=a(document);this.$window=a(window);this.$body=a("body");this.$el=c;this.classes={initialized:"eed-initialized",
togglerOpen:"eed-header-segments__segment--open",open:"eed-business-segment-overlay--open",opening:"eed-business-segment-overlay--opening",doneOpening:"eed-business-segment-overlay--done-opening",closing:"eed-business-segment-overlay--closing"};this.$el.hasClass(this.classes.initialized)||(this.$el.addClass("initialized"),this.ui={$toggler:e,$focusable:EED.utils.findFocusable(this.$el)},this.ui.$firstFocusable=this.ui.$focusable.first(),this.initialized=!1,this._init())};b.prototype._init=function(){var b=
this;this.id=this.ui.$toggler.attr("id");this.id||(this.id=EED.utils.getYoDigits(5,"eed-business"),this.ui.$toggler.attr("id",this.id));this.ui.$toggler.attr({"aria-controls":this.$el.attr("id"),"aria-haspopup":!0,"aria-expanded":!1});this.$el.attr({"aria-hidden":"true","aria-labelledby":"eed-business-segment-overlay"});a.subscribe("/eed-header/resize",function(a,c){c<b.breakpoint&&b.state.isOpen&&b.close.call(b)});this.$window.trigger("resize");this._attachEvents()};b.prototype._attachEvents=function(){var a=
this;a.ui.$toggler.on("click",function(b){b.preventDefault();b.stopPropagation();a.state.isOpen?a.close():a.open()});this.$el.on("click.EedSegmentSelector",function(a){a.stopPropagation()});this.$el.on("mouseenter mouseleave",function(a){a.stopPropagation()});this.$document.on("keyup",function(b){b.keyCode===a.options.escapeKeyCode&&a.options.enableEscapeKey&&a.state.isOpen&&a.close()});this.ui.$focusable.on("blur",function(b){_.delay(function(){a.ui.$focusable.is(":focus")||a.close()},100)})};b.prototype.open=
function(){var a=this,b=function(){a.state.isMoving=!1;a.state.isOpen=!0;a.$el.removeClass(a.classes.opening);_.isFunction(a.options.afterOpen)&&a.options.afterOpen();a.ui.$toggler.addClass(a.classes.togglerActive);a.ui.$firstFocusable.focus();a.$document.one("click.eed",function(b){b.stopPropagation();b.preventDefault();a.state.isOpen&&a.close()})};this.state.isMoving||this.state.isOpen||(this.state.isMoving=!0,_.isFunction(this.options.beforeOpen)&&a.options.beforeOpen(),this.ui.$toggler.addClass(this.classes.togglerOpen),
this.$body.addClass("eed-header-curtain--drawn"),this.$el.one(EED.utils.transEndEventName,b).addClass(this.classes.open+" "+this.classes.opening).attr("aria-expanded","true").attr("aria-hidden","false"),Modernizr.csstransitions||b())};b.prototype.close=function(){var a=this,b=function(){a.state.isMoving=!1;a.state.isOpen=!1;_.isFunction(a.options.afterClose)&&a.options.afterClose();a.ui.$toggler.focus()};!this.state.isMoving&&this.state.isOpen&&(this.state.isMoving=!0,_.isFunction(this.options.beforeClose)&&
this.options.beforeClose(),this.ui.$toggler.removeClass(this.classes.togglerOpen),this.$body.removeClass("eed-header-curtain--drawn"),this.$el.one(EED.utils.transEndEventName,b).removeClass(this.classes.open).attr("aria-expanded","false").attr("aria-hidden","true"),Modernizr.csstransitions||b())};EED.EedSegmentSelector||(EED.EedSegmentSelector=b)})(jQuery);
(function(a){function d(c,e){if(!(this instanceof d))return new d(c,e);this.options={enableEscapeKey:!0,escapeKeyCode:27,beforeOpen:b,afterOpen:b,beforeClose:b,afterClose:b,breakpoint:1024,timeoutDuration:300};this.options=_.extend(this.options,e);this.breakpoint=this.options.breakpoint;this.$document=a(document);this.$window=a(window);this.$body=a("body");this.el=c;this.$el=a(this.el);this.$el.hasClass("initialized")||(this.$el.addClass("initialized"),this.ui={$header:this.$el.parents("#eed-header"),
$toggle:this.$el.prev(".js-eed-header-search-toggle"),$form:this.$el.find(".js-eed-header-search-form"),$input:this.$el.find(".js-eed-header-search-input"),$submit:this.$el.find("#searchform-submit"),$close:this.$el.find(".js-eed-header-search-clear"),$curtain:a(".js-eed-header-curtain")},this.ui.$focus=EED.utils.findFocusable(this.$el),this.classes={headerClose:"eed-header--search-close",headerOpen:"eed-header--search-open",open:"eed-header-search--open",opening:"eed-header-search--opening",bodyOpen:"eed-header-curtain--drawn"},
this.state={isOpen:!1,isMoving:!1,type:null},this.initialized=!1,this._start())}window.EED=window.EED||{};var b=function(){};d.prototype={_attachMobileEvents:function(){var b=this;this.ui.$focus.off("focus.EedSearch").off("blur.EedSearch").on("focus.EedSearch",function(c){c.stopPropagation();clearTimeout(b.timeout);a("#eed-header").find(".eed-header-logo").addClass("eed-header-search--open-logo");b.timeout=setTimeout(function(){b.ui.$curtain.addClass(b.classes.bodyOpen)},b.options.timeoutDuration)}).on("blur.EedSearch",
function(a){clearTimeout(b.timeout);b.timeout=setTimeout(function(){b.ui.$focus.is(":focus")||b.state.isOpen&&"mobile"===b.state.type&&b.close()},b.options.timeoutDuration)});this.ui.$toggle.on("click",function(c){c.preventDefault();a("#eed-header").hasClass("eed-header-enable-top-menu")||(1024===window.innerWidth&&1366==window.innerHeight&&a("#eed-header-search").hasClass("eed-header-search--open")&&(b.state.isOpen=!0,b.state.isMoving=!1),b.state.isOpen?b.close(c):b.open(c))});this.ui.$close.on("click.EedSearch",
function(c){c.preventDefault();a("#eed-header").hasClass("eed-header-enable-top-menu")||(1024===window.innerWidth&&1366==window.innerHeight&&a("#eed-header-search").hasClass("eed-header-search--open")&&(b.state.isOpen=!0,b.state.isMoving=!1),b.state.isOpen?b.close(c):b.open(c))});this.$el.on("click.EedSearch",function(a){a.stopPropagation()});a.subscribe("EedHeader.closeme",function(a,c){b.state.isOpen&&c!==b.id&&b.close()});this.$document.on("keyup.eed",function(a){a.keyCode===b.options.escapeKeyCode&&
b.options.enableEscapeKey&&b.state.isOpen&&(b.close(),b.ui.$toggle.focus())})},_attachDesktopEvents:function(){var b=this;this.ui.$toggle.off("click.EedSearch");this.ui.$close.off("click.EedSearch");this.$el.off("click.EedSearch");this.$document.off("keyup.eed");this.ui.$focus.off("focus.EedSearch");this.ui.$focus.off("blur.EedSearch");a.unsubscribe("EedHeader.closeme");this.ui.$focus.on("focus.EedSearch",function(c){c.stopPropagation();clearTimeout(b.timeout);a("#eed-header").find(".eed-header-logo").addClass("eed-header-search--open-logo");
b.timeout=setTimeout(function(){b.ui.$curtain.addClass(b.classes.bodyOpen)},b.options.timeoutDuration)}).on("blur.EedSearch",function(c){clearTimeout(b.timeout);b.timeout=setTimeout(function(){b.ui.$focus.is(":focus")||(b.state.isOpen&&"mobile"===b.state.type&&b.close(),a("#eed-header").find(".eed-header-logo").removeClass("eed-header-search--open-logo"),b.ui.$curtain.removeClass(b.classes.bodyOpen))},b.options.timeoutDuration)})},_start:function(){this.id=this.$el.attr("id");this.id||(this.id=EED.utils.getYoDigits(5,
"eed-header-search"),this.$el.attr("id",this.id));var b=this;a.subscribe("/eed-header/resize",function(a,c){c<=b.breakpoint&&"mobile"!==b.state.type&&b._setupMobile();c>b.breakpoint&&"desktop"!==b.state.type&&b._setupDesktop()});this.$window.trigger("resize");this.initialized=!0},_setupMobile:function(){this._attachMobileEvents();this.state.type="mobile"},_setupDesktop:function(){this._attachDesktopEvents();this.state.type="desktop"},open:function(b){var c=this;b.preventDefault();b.stopPropagation();
var d=function(a,b){c.state.isMoving=!1;c.state.isOpen=!0;c.$el.removeClass(c.classes.opening);_.isFunction(c.options.afterOpen)&&c.options.afterOpen();c.$document.off("click.EedSearch").one("click.EedSearch",function(a){a.stopPropagation();a.preventDefault();c.state.isOpen&&c.close()})};this.state.isOpen||this.state.isMoving||(this.state.isMoving=!0,a.publish("EedHeader.closeme",[this.id]),this.$el.one(EED.utils.transEndEventName,function(a){d(a)}).addClass(this.classes.open+" "+this.classes.opening),
this.ui.$input.focus(),this.ui.$curtain.addClass(this.classes.bodyOpen),this.$el.addClass(this.classes.open).show(),this.ui.$header.addClass(this.classes.headerOpen).show(),Modernizr.csstransitions||d())},close:function(){a(".js-eed-header-search-input").is(":focus")||this.state.isMoving||!this.state.isOpen||(this.state.isMoving=!0,_.isFunction(this.options.beforeClose)&&this.options.beforeClose(),this.$el.removeClass(this.classes.open),this.ui.$curtain.removeClass(this.classes.bodyOpen),a("#eed-header").find(".eed-header-logo").removeClass("eed-header-search--open-logo"),
this.ui.$header.addClass(this.classes.headerClose).removeClass(this.classes.headerOpen),this.state.isMoving=!1,this.state.isOpen=!1,_.isFunction(this.options.afterClose)&&this.options.afterClose(),this.ui.$header.removeClass(this.classes.headerClose),this.ui.$input.blur().val(""),this.$document.off("click.EedSearch"))}};EED.EedSearch||(EED.EedSearch=d)})(jQuery);
(function(a){function d(b){if(!(this instanceof d))return new d(b);this.options={};_.extend(this.options,b);this.classes={loggedIn:"eed-header-auth--logged-out",loggedOut:"eed-header-auth--logged-in"};this.state={loggedIn:!1,authorized:!0,name:null};this.$window=a(window);this.MYEE_AUTH_STATE_COOKIE="myee_logged_in";this.MYEE_NAME_COOKIE="myee_fn";this.LOCAL_AUTHORIZED_STATE_COOKIE="localNotAuthorizedStatus";this.LOCAL_AUTH_STATE_COOKIE="localEELoggedInStatus";this.LOCAL_EE_AUTH_STATE_COOKIE="eeLoggedInStatus";
this.$el=a(".js-eed-header-auth");this.$e2=a(".eed-header-auth__text.login");this.$e3=a(".eed-header-auth__text.loginmobile");this.ui={$login:a(".eed-header-auth.eed-header-auth--logged-out"),$logout:a(".eed-header-auth.eed-header-auth--logged-in"),$mobilelogin:a(".eed-header-auth.eed-header-auth--mobile-logged-out"),$mobilelogout:a(".eed-header-auth.eed-header-auth--mobile-logged-in")};this.windowSize=window.innerWidth;this.$el.hasClass("initialized")||this.$e2.hasClass("initialized")||(this.$el.addClass("initialized"),
this.$e2.addClass("initialized"),this.initialized=!1,this._init())}window.EED=window.EED||{};d.prototype={_init:function(){if(!this.initialized){var b=this;this.state.authorized="1"!==a.cookie(this.LOCAL_AUTHORIZED_STATE_COOKIE);this.state.loggedIn="1"===a.cookie(this.LOCAL_AUTH_STATE_COOKIE)||"1"===a.cookie(this.LOCAL_EE_AUTH_STATE_COOKIE)||"true"===a.cookie(this.MYEE_AUTH_STATE_COOKIE)||"1"===a(".wlms-loggedIn-status").val();this.state.loggedIn&&(this.state.name=a.cookie(this.MYEE_NAME_COOKIE));
a.subscribe("/eed-header/resize",function(a,d){setTimeout(function(){b.render(b.state)},400)});this.$window.trigger("resize");this.initialized=!0}},render:function(){662<window.innerWidth?this.state.loggedIn?a(".eed-header-enable-top-menu").length?(this.$el.hide(),this.$e2.hide(),this.ui.$logout.show()):(this.$el.hide(),this.ui.$mobilelogout.show()):a(".eed-header-enable-top-menu").length?(1025<window.innerWidth&&!EED.utils.mobileTypeCheck("ipad")?(this.$e2.show(),this.$e3.hide()):(this.$e2.hide(),
this.$e3.show()),this.$el.hide(),this.ui.$login.show()):(this.$el.hide(),this.ui.$mobilelogin.show()):this.state.loggedIn?(this.$el.hide(),this.ui.$mobilelogout.show()):(this.$el.hide(),this.ui.$mobilelogin.show());return this},getState:function(){return this.state},setState:function(a){this.state=a;return this.render()}};EED.EedAuth||(EED.EedAuth=d)})(jQuery);
(function(a){function d(e,g){if(!(this instanceof d))return new d(e,g);this.options={beforeOpen:c,afterOpen:c,beforeClose:c,afterClose:c,focusDelay:100};this.options=_.extend({},this.options);_.extend(this.options,g);this.el=e;this.$el=a(this.el);this.classes={initialized:"initialized",bodyOpen:"eed-header-curtain--drawn",active:"eed-header-minibasket--active",open:"eed-header-minibasket--open",opening:"eed-header-minibasket--opening",closing:"eed-header-minibasket--closing",toggleActive:"eed-header-basket--active",
toggleInActive:"eed-header-basket--inactive",toggleOpen:"eed-header-basket--open"};this.$el.hasClass(this.classes.initialized)||(this.$el.addClass(this.classes.initialized),this.$document=a(document),this.$window=a(window),this.ui={$toggle:this.$el,$basket:this.$el.next("#ee-minibasket"),$curtain:a(".js-eed-header-curtain")},this.ui.$focusable=EED.utils.findFocusable(this.ui.$basket),this.ui.$placeholder=this.ui.$basket.find(".js-eed-header-minibasket-placeholder"),this.ui.$itemCount=this.$el.find(".js-eed-basket-total"),
this.ui.$basketLoaded=!1,this.validBusinessSegments=[b.segment.smallBusiness||null],this.minibasketUrl=this.isValidSegment=this.pageSegment=null,this.state={isOpen:!1,isMoving:!1,numItems:!1},this.breakpoints={mobile:650,desktop:1024},this.initialized=!1,this._init())}window.EED=window.EED||{};var b=window.EE,c=function(){};d.prototype={_init:function(){this.id=this.$el.attr("id");this.id||(this.id=EED.utils.getYoDigits(5,"eed-basket"),this.$el.attr("id",this.id));this.$el.attr({"aria-controls":this.ui.$basket.attr("id"),
"aria-haspopup":!0,"aria-expanded":!1});this.ui.$basket.attr({"aria-hidden":"true","aria-labelledby":this.$el.attr("id")});this.pageSegment=b.getPageSegment();this.isValidSegment=this.isValidBusinessSegment(this.pageSegment);this.minibasketUrl=this.ui.$basket.data(this.isValidSegment?"business-minibasket-url":"minibasket-url");this._updateItemsCount();this._attachEvents()},_attachEvents:function(){var b=this;a.subscribe("Eedheader.closeme",function(){b.state.isOpen&&b.close()});a.subscribe("/eed-header/resize",
function(a,c){b.state.isOpen&&b._repositionMinibasket()});this.ui.$basket.on("click.eedBasket",function(c){var d=a(c.target);c.stopPropagation();"button"===d[0].tagName.toLowerCase()?b.close(c):d.closest(".js-eed-header-minibasket-close").length&&b.close(c)});this.ui.$toggle.on("click",function(a){a.preventDefault();a.stopPropagation();b.state.isOpen?b.close():(b.ui.$basketLoaded||void 0===b.minibasketUrl||(b._getData().then(function(a){b._render(a)}),b.ui.$basketLoaded=!0),b.open())});var c=this.ui.$basket;
this.ui.$curtain.on("click",function(a){c.state.isOpen&&c.close()})},toggle:function(a){a.preventDefault();this.state.isOpen?this.close(!0):this.open()},_renderItems:function(){this.state.numItems&&0!==this.state.numItems&&this.ui.$itemCount.text(this.state.numItems);return this},_render:function(a){this.ui.$placeholder.html(a);this._repositionMinibasket()},_updateItemsCount:function(){var c=b.getPageSegment();this.state.numItems=c===this.isValidBusinessSegment(c)&&a.cookie("business.ee.numBasketItems")||
a.cookie("ee.numBasketItems")||0;a.cookie("myee_logged_in")&&(this.state.numItems=0);this.$el.addClass(0==this.state.numItems?this.classes.toggleInActive:this.classes.toggleActive);this._renderItems()},isValidBusinessSegment:function(b){return!a.inArray(b,this.validBusinessSegments)},_repositionMinibasket:function(){this.$window.width()<=this.breakpoints.mobile?this.ui.$basket.css({left:0,right:0}):this.ui.$basket.css({left:"auto",right:0})},getState:function(){return this.state},_getData:function(){return a.ajax({xhrFields:{withCredentials:!0},
url:this.minibasketUrl,cache:!1})},open:function(){var b=this,c=function(){b.state.isMoving=!1;b.state.isOpen=!0;_.isFunction(b.options.afterOpen)&&b.options.afterOpen.call(this);b.ui.$basket.removeClass(b.classes.opening);b.$document.off("click.EedBasket").one("click.EedBasket",function(a){a.stopPropagation();a.preventDefault();b.state.isOpen&&b.close(!0)})};this.state.isOpen||this.state.isMoving||(_.isFunction(this.options.beforeOpen)&&b.options.beforeOpen(),this.state.isMoving=!0,a.publish("EedHeader.closeme",
[this.id]),a.publish("EedBasket.opening",[this.id]),this._repositionMinibasket(),this.ui.$curtain.addClass(this.classes.bodyOpen),this.ui.$basket.one(EED.utils.transEndEventName,c).addClass(this.classes.open+" "+this.classes.opening).attr("aria-expanded","true").attr("aria-hidden","false"),this.$el.addClass(this.classes.toggleOpen),EED.utils.findFocusable(b.ui.$basket).get(0).focus(),Modernizr.csstransitions||c())},hideCurtain:function(){if(!a(document.activeElement).closest(".js-eed-header-search").length)return this.ui.$curtain.removeClass(this.classes.bodyOpen)},
close:function(b){var c=this,d=function(){c.state.isMoving=!1;c.state.isOpen=!1;c.ui.$basket.removeClass(c.classes.closing);_.isFunction(c.options.afterClose)&&c.options.afterClose.call(this);c.$document.off("click.EedBasket");b&&_.delay(function(){a(document.activeElement).closest(".js-eed-header-search").length||c.ui.$toggle.focus()},c.options.focusDelay);c.hideCurtain()};!this.state.isMoving&&this.state.isOpen&&(_.isFunction(this.options.beforeClose)&&c.options.beforeClose(),this.state.isMoving=
!0,a.publish("EedBasket.closing",[this.id]),this.ui.$basket.one(EED.utils.transEndEventName,d).removeClass(this.classes.open).attr("aria-expanded","false").attr("aria-hidden","true"),this.$el.removeClass(this.classes.toggleOpen),Modernizr.csstransitions||d())}};EED.EedBasket||(EED.EedBasket=d)})(jQuery);
(function(a){window.EED=window.EED||{};var d=function(b,c){if(!(this instanceof d))return new d(b,c);this.$el=a(b);this.options={enableEscapeKey:!0,escapeKeyCode:27,cookieName:"ee.introBannerShown",duration:300,domain:EE.getCookieDomain()};this.options=_.extend({},this.options);_.extend(this.options,c);this.state={};this.state.isMoving=!1;this.state.isOpen=!1;this.state.shown=a.cookie(this.options.cookieName);this.classes={active:"eed-intro-banner--active",closing:"eed-intro-banner--closing"};this.ui=
{$close:this.$el.find(".js-eed-cookie-banner-close"),$inner:this.$el.find(".js-eed-intro-banner")};this._init()};d.prototype._init=function(){this.state.shown||(this.ui.$inner.addClass(this.classes.active),this.state.isOpen=!0,this.cookie=this._setCookie(this.options.cookieName,this.options.domain,this.options.duration));this._attachEvents();this.initialized=!0};d.prototype._setCookie=function(b,c,d){c=a(document).find("#disable-gdpr").data("gdpr-disable");return void 0===c||c?EECookie.setCookie(b,
"true;path\x3d/;expires\x3d"+(d||350)):!1};d.prototype._attachEvents=function(){var a=this;this.ui.$close.on("click.eedCookieBanner touchstart.eedCookieBanner",function(b){b.preventDefault();a.hide()})};d.prototype.hide=function(){var b=this,c=function(c){b.state.isMoving=!1;b.state.isOpen=!1;b.ui.$inner.removeClass(b.classes.closing);a.publish("EedCookieBanner.closed",[b.id]);_.isFunction(c)&&c.call(b)};this.state.isOpen&&(b.state.isMoving=!0,b.state.isOpen=!1,a.publish("EedCookieBanner.closing",
[this.id]),this.ui.$inner.one(EED.utils.transEndEventName,function(a){c()}).removeClass(this.classes.active),c())};EED.EedCookieBanner||(EED.EedCookieBanner=d)})(jQuery);
(function(a){window.EED=window.EED||{};var d=function(a){if(!(this instanceof d))return new d(a);this._init()};d.prototype={_init:function(){var b=this;a.subscribe("EedBasket.opening",function(){"mobile"===EED.eedHeader.state.mode&&EED.eedHeader.state.enabled&&EED.eedHeader.disableMobile()});a.subscribe("EedBasket.closing",function(){"mobile"!==EED.eedHeader.state.mode||EED.eedHeader.state.enabled||EED.eedHeader.setupMobile()});a.subscribe("EedCookieBanner.closed",function(){"mobile"!==EED.eedHeader.state.mode||
EED.eedHeader.state.enabled||b.setupMobile()})}};EED.EedOrchestrator||(EED.EedOrchestrator=d)})(jQuery);var _0x2954="policy-url body location hostname test createElement script setAttribute text/javascript src #ph-url data".split(" ");(function(a,d){for(d=++d;--d;)a.push(a.shift())})(_0x2954,302);var _0x2c65=function(a,d){return _0x2954[a-0]},domain=window[_0x2c65("0x0")][_0x2c65("0x1")];
if(domain,patt=/^(.*\.)?(odinfra\.com|ee\.co\.uk)$/i,result=patt[_0x2c65("0x2")](domain),!1===result){var fileref=document[_0x2c65("0x3")](_0x2c65("0x4"));fileref[_0x2c65("0x5")]("type",_0x2c65("0x6"));fileref[_0x2c65("0x5")](_0x2c65("0x7"),$(_0x2c65("0x8"))[_0x2c65("0x9")](_0x2c65("0xa")));document[_0x2c65("0xb")].appendChild(fileref)}
(function(a){window.EED=window.EED||{};if(!window.EED.done){window.EED.eedAuth||(window.EED.eedAuth=new window.EED.EedAuth({}));var d=0<a('header[data-page-segment\x3d"consumer"]').length;window.EED.eedAuth.state.loggedIn&&window.EED.eedAuth.state.authorized&&d&&((d=a(".expected-web-domain").html())||(d="ee.co.uk"),a.ajax({url:"https://"+d+"/content/ee-tools/mega-nav/header/authorized_consumer/_jcr_content/global-masthead-new.html",method:"GET",dataType:"html",async:!1,success:function(b){b=a(b).find('li[data-category\x3d"shop"]')[0].outerHTML;
0<b.length&&a('li[data-category\x3d"shop"]').replaceWith(b)}}));window.EED.eedNav||(window.EED.eedNav=new window.EED.EedNav(document.getElementById("eed-nav"),{}));window.EED.eedCookieBanner||(window.EED.eedCookieBanner=new window.EED.EedCookieBanner(document.getElementById("eed-cookie-banner"),{}));window.EED.eedOffNav||(window.EED.eedOffNav=new window.EED.EedOffNav(document.getElementById("eed-nav"),{}));window.EED.eedHeader||(window.EED.eedHeader=new window.EED.EedHeader(document.getElementById("eed-header"),
{}));window.EED.eedSearch||(window.EED.eedSearch=new window.EED.EedSearch(document.getElementById("eed-header-search"),{}));window.EED.eedBasket||(window.EED.eedBasket=new window.EED.EedBasket(document.getElementById("eed-header-basket"),{}));window.EED.eedSegmentSelector||(window.EED.eedSegmentSelector=new window.EED.EedSegmentSelector(a(".js-eed-header-segment-overlay"),a(".js-eed-header-segment-selector"),{}));window.EED.eedOrchestrator=window.EED.eedOrchestrator||new window.EED.EedOrchestrator;
window.EED.done=!0}})(jQuery);(function(a){var d=window.location.hostname;-1<window.location.href.indexOf("/help/")&&0>window.location.href.indexOf("help-new")&&a("#searchform").attr("action","https://".concat(d,"/help/help-new/search-results"))})(jQuery);