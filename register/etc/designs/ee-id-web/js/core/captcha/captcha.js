!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){var Captcha={baseUrl:"http://127.0.0.1:8181/captcha/pub/",cookieName:"captchaSessionCookieName",clientId:null,baseImageUrl:null,imageUrl:null,baseAudioUrl:null,audioUrl:null,baseAjaxUrl:null,ajaxUrl:null,id:null,challenge:"",question:"",theme:"ouk",captchaType:"image",divId:"captcha_div",err:null,template:null,codeStyle:"",formStyle:"",isValidCaptcha:"true",errorStyle:"ee-form-message--hidden",content:"",captchaInitiallyReloaded:null,create:function(divId,theme,baseUrl,isValidCaptcha){null!==baseUrl&&(Captcha.baseUrl=baseUrl),null!==theme&&(Captcha.theme=theme),null!==divId&&(Captcha.divId=divId),null!==isValidCaptcha&&(Captcha.isValidCaptcha=isValidCaptcha),Captcha.reset(),Captcha.reload(),this.captchaInitiallyReloaded=null},getCookie:function(){for(var tC=document.cookie.split("; "),i=tC.length-1;i>=0;i--){var x=tC[i].split("=");if(Captcha.cookieName===x[0])return decodeURI(x[1])}return null},setCookie:function(){document.cookie=Captcha.cookieName+"="+encodeURI(Captcha.clientId)},getClientId:function(){if(null!==Captcha.clientId)return Captcha.clientId;var cookieId=Captcha.getCookie();return null!==cookieId?Captcha.clientId=cookieId:(Captcha.clientId=Math.random().toString(36).substr(2,9),Captcha.setCookie()),Captcha.clientId},replaceHeadScript:function(name,script){var docHead=document.getElementsByTagName("head")[0],existingScript=document.getElementById(name);null!==existingScript&&docHead.removeChild(existingScript),docHead.appendChild(script)},help:function(){var helpUrl=Captcha.baseUrl+"help/theme/"+Captcha.theme;window.open(helpUrl,"captchaHelp","width=460,height=460,location=no,menubar=no,status=no,toolbar=no,scrollbars=yes,resizable=yes")},supportsHtml5Audio:function(){return!!document.createElement("audio").canPlayType},createAudioDiv:function(){if(null===document.getElementById("captchaContentColumn"))return void(Captcha.err="oops, could not create audio")},swapCaptchaType:function(event){event&&event.preventDefault(),(null===Captcha.captchaType||"image"!==Captcha.captchaType&&"audio"!==Captcha.captchaType)&&(Captcha.captchaType="image"),"image"===Captcha.captchaType?Captcha.captchaType="audio":Captcha.captchaType="image",Captcha.reset(),Captcha.display()},reset:function(){Captcha.baseAjaxUrl=Captcha.baseUrl+"captchaajax/theme/%theme%/cid/%cid%",Captcha.ajaxUrl=Captcha.baseAjaxUrl.replace("%theme%",Captcha.theme),Captcha.ajaxUrl=Captcha.ajaxUrl.replace("%cid%",Captcha.getClientId());var content;"false"===Captcha.isValidCaptcha&&(Captcha.errorStyle="ee-form-message-",Captcha.formStyle=Captcha.formStyle+" ee-form-field--invalid"),"true"===Captcha.isValidCaptcha&&(Captcha.codeStyle=" validated",Captcha.errorStyle="ee-form-message--hidden",Captcha.formStyle="",Captcha.formStyle=""),content="audio"===Captcha.captchaType?Captcha.getAudioCaptcha():Captcha.getImageCaptcha(),document.getElementById("captcha_challenge_field").value=Captcha.challenge,document.getElementById("captcha_question_field").value=Captcha.question,document.getElementById("captcha_theme").value=Captcha.theme,document.getElementById("captcha_response_field").className+=Captcha.codeStyle,document.getElementById("captcha_form_section").className=Captcha.formStyle;var captchaEeFormMessage=document.getElementById("captcha_ee_form_message");null!==captchaEeFormMessage&&(captchaEeFormMessage.className=Captcha.errorStyle);var listenCodeLinkText=document.getElementById("listen_code_link_text"),viewCodeLinkText=document.getElementById("view_code_link_text"),captchaIcon=document.querySelector("#captcha_swap_type use");listenCodeLinkText.style.display="none",viewCodeLinkText.style.display="none","image"===Captcha.captchaType?(listenCodeLinkText.style.display="",captchaIcon.setAttribute("xlink:href","#eei_headphones")):(viewCodeLinkText.style.display="",captchaIcon.setAttribute("xlink:href","#eei_chevron_right")),Captcha.content=content},getAudioCaptcha:function(){Captcha.baseAudioUrl=Captcha.baseUrl+"audiocaptcha/id/%id%/cid/%cid%",Captcha.audioUrl=Captcha.baseAudioUrl.replace("%id%",Captcha.id),Captcha.audioUrl=Captcha.audioUrl.replace("%cid%",Captcha.getClientId());var captchaAudioDiv=document.createElement("div");captchaAudioDiv.setAttribute("id","captchaAudioDiv"),captchaAudioDiv.setAttribute("style","display:block;height:4.5em;width:auto;");var captchaAudioAudio=document.createElement("audio");captchaAudioAudio.setAttribute("controls","yes"),captchaAudioAudio.setAttribute("id","captchaAudioControl"),captchaAudioAudio.setAttribute("loop","loop"),captchaAudioAudio.setAttribute("preload","auto"),captchaAudioAudio.setAttribute("height","4.5em"),captchaAudioAudio.setAttribute("width","auto");var captchaAudioSource=document.createElement("source");captchaAudioSource.setAttribute("src",Captcha.audioUrl),captchaAudioSource.setAttribute("type","audio/wav");var captchaAudioA=document.createElement("a");captchaAudioA.setAttribute("href",Captcha.audioUrl),captchaAudioA.setAttribute("class","text-cta"),captchaAudioA.innerHTML="Download",captchaAudioDiv.appendChild(captchaAudioAudio),captchaAudioAudio.appendChild(captchaAudioSource),captchaAudioAudio.appendChild(captchaAudioA);var captchaImage=document.getElementById("captchaImageDiv");return null!==captchaImage&&document.getElementById("captchaContentColumn").removeChild(captchaImage),captchaAudioDiv},getImageCaptcha:function(){Captcha.baseImageUrl=Captcha.baseUrl+"imagecaptcha/id/%id%/cid/%cid%",Captcha.imageUrl=Captcha.baseImageUrl.replace("%id%",Captcha.id),Captcha.imageUrl=Captcha.imageUrl.replace("%cid%",Captcha.getClientId());var captchaImage=document.createElement("div");captchaImage.setAttribute("id","captchaImageDiv");var captchaImg=document.createElement("img");Captcha.id&&captchaImg.setAttribute("src",Captcha.imageUrl),captchaImg.setAttribute("id","captchaImage"),captchaImg.setAttribute("alt","An audio challenge follows if you cannot view this image.");var captchaAudio=document.getElementById("captchaAudioDiv");return null!==captchaAudio&&document.getElementById("captchaContentColumn").removeChild(captchaAudio),captchaImage.appendChild(captchaImg),captchaImage},display:function(){if(null===Captcha.err||""===Captcha.err)0===document.getElementById("captchaContentColumn").childElementCount&&document.getElementById("captchaContentColumn").appendChild(Captcha.content),"audio"===Captcha.captchaType&&document.getElementById("captchaAudioControl").focus();else{document.getElementById("captcha_div").style.display="none";var captchaCaptchaErrorDiv=document.getElementById("captchaErrorDiv");captchaCaptchaErrorDiv&&(captchaCaptchaErrorDiv.style.display="block")}},refresh:function(){Captcha.reset(),Captcha.display()},reload:function(event){event&&event.preventDefault();var captchaAudio=document.getElementById("captchaAudioDiv"),captchaImage=document.getElementById("captchaImageDiv"),captchaContent=document.getElementById("captchaContentColumn");if(null!==captchaAudio||null!==captchaImage)for(;captchaContent.firstChild;)captchaContent.removeChild(captchaContent.firstChild);var script=document.createElement("script");script.type="text/javascript",script.id="blah87263",script.readyState?script.onreadystatechange=function(){"loaded"!==script.readyState&&"complete"!==script.readyState||(script.onreadystatechange=null)}:script.onload=function(){},script.src=Captcha.ajaxUrl,Captcha.replaceHeadScript("blah87263",script),script.onload=function(){Captcha.captchaInitiallyReloaded?$(document).trigger("eeid:CAPTCHA_REFRESH"):Captcha.captchaInitiallyReloaded=!0}}};window.Captcha=Captcha},{}]},{},[1]);
//# sourceMappingURL=captcha.js.map
